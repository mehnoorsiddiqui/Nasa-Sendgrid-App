/**
 * Twilio SendGrid v3 APILib
 *
 * This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
 */

import { number, object, optional, Schema, string } from '../schema';
import { BounceTypeEnum, bounceTypeEnumSchema } from './bounceTypeEnum';
import { EventNameEnum, eventNameEnumSchema } from './eventNameEnum';

export interface Event {
  eventName: EventNameEnum;
  /** Date of when event occurred */
  processed: string;
  /** Explanation of what caused "bounced", "deferred", or "blocked". Usually contains error message from the server - e.g. message from gmail why mail was deferred */
  reason?: string;
  /** Used with "deferred" events to indicate the attempt number out of 10. One "deferred" entry will exists under events array for each time a message was deferred with error message from the server. */
  attemptNum?: number;
  /** Used with "clicked" event to indicate which url the user clicked. */
  url: string;
  bounceType: BounceTypeEnum;
  /** Client recipient used to click or open message */
  httpUserAgent: string;
  /** For example mx.gmail.com */
  mxServer: string;
}

export const eventSchema: Schema<Event> = object({
  eventName: ['event_name', eventNameEnumSchema],
  processed: ['processed', string()],
  reason: ['reason', optional(string())],
  attemptNum: ['attempt_num', optional(number())],
  url: ['url', string()],
  bounceType: ['bounce_type', bounceTypeEnumSchema],
  httpUserAgent: ['http_user_agent', string()],
  mxServer: ['mx_server', string()],
});
